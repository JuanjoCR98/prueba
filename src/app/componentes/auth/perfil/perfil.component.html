<div class="card">
  <div class="card-body">
    <p class="card-text"><b>Email:</b> {{perfil.nombre}}</p>
    <p class="card-text"><b>Email:</b> {{perfil.apellidos}}</p>
    <p class="card-text"><b>Email:</b> {{perfil.email}}</p>
    <p class="card-text"><b>Telefono:</b> {{perfil.telefono}}</p>
    <p class="card-text"><b>DNI:</b> {{perfil.dni}}</p>
    <img src="{{perfil.imgSrc}}">
    <button (click)="mostrarEditar=!mostrarEditar;mostrarEliminar=false">Editar</button>
    <button (click)="mostrarEliminar=!mostrarEliminar;mostrarEditar=false">Eliminar</button>
  </div>
  <div class="card" *ngIf="mostrarEditar">
    <div class="container">
        <div class="row">
            <div class="col-lg-2"></div>
            <div class="col-lg-8" style="padding-top: 5px;">
                
                <form [formGroup]="formPerfil" (submit)="editarPerfil()">
                    <div class="form-group">
                        <input type="text" class="form-control" formControlName="nombre" [(ngModel)]="perfil.nombre" placeholder="Nombre...">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" formControlName="apellidos" [(ngModel)]="perfil.apellidos" placeholder="Apellidos...">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" formControlName="password" [(ngModel)]="perfil.password" placeholder="ContraseÃ±a...">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" formControlName="email" [(ngModel)]="perfil.email" placeholder="Email...">
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" formControlName="telefono" [(ngModel)]="perfil.telefono" placeholder="Telefono...">
                    </div>
                    <div class="form-group"><button class="btn btn-primary btn-block" type="submit">Guardar cambio</button></div>
                   
                </form>
                <button (click)="mostrarEditar=!mostrarEditar">Cancelar</button>
            </div>
        </div>
    </div>
  </div>
  <div class="card" *ngIf="mostrarEliminar">
    <div class="card-header h5 text-center">Para eliminar tu perfil introduce tu e-mail</div>
    <div class="card-body">
        <input type="text" [(ngModel)]="inputBorrar">
        <div class="form-group">
            <button [disabled]="inputBorrar!=perfil.email" class="btn btn-danger btn-block" (click)="borrarPerfil()">Guardar cambio</button>
            <button (click)='mostrarEditar=!mostrarEditar;inputBorrar=""'>Cancelar</button>
        </div>           
    </div>
  </div>
  <form [formGroup]="formImagen" (ngsubmit)="subirImagen()">
    <input type="file" formControlName="imagen" (change)="cambiaImagen($event)">
    <button type="submit">Subir imagen de perfil</button>
  </form>
</div>
